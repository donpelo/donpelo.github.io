<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="css/style.css" />
    <meta name="viewport" content="width-device-width,initial-scale-1.0">
    <script src="/js/jquery-1.10.2.min.js"></script>
    <title>
        La pagina de Santiago
    </title>

</head>

<body>

    <div class="contenedortitulos" id="contenedorsuperior">


        <img class="titulo" src="imagenes/cooltext351786426196727.gif" alt="">


    </div>


    <div class="contenedordos" id="subtitulos">
        <img class="titulovideo" src="imagenes/videos.gif" alt="">
        <img class="titulogif" src="imagenes/gif.gif" alt="">
        <img class="titulomusica" src="imagenes/musica.gif" alt="">
    </div>



    <div class="video">
        <video src="videos/Agumon DigievoluciÃ³n Portuguesa.mp4 " controls="controls " type="video/mp4 " preload="preload ">
    </video>
    </div>

    <div class="reproductor-bonito">



        <div id="main">
            <div id="image">
                <img src="/imagenes/Star_Wars_The_Rise_of_Skywalker.png" />
            </div>
            <div id="player">
                <div id="songTitle">Musica</div>
                <div id="buttons">
                    <button id="pre" onclick="pre()"><img src="/imagenes/Pre.png" height="90%" width="90%"/></button>
                    <button id="play" onclick="playOrPauseSong()"><img src="/imagenes/Play.png"/></button>
                    <button id="next" onclick="next()"><img src="/imagenes/Next.png" height="90%" width="90%"/></button>
                </div>

                <div id="seek-bar">
                    <div id="fill"></div>
                    <div id="handle"></div>
                </div>
            </div>
        </div>


    </div>



    <div class="lista-reproduccion">

        <script>
            function cambiarTrack(track) {
                var path = track.getAttribute("path")
                viejo_audio = document.getElementById("reproductor")
                audio_padre = viejo_audio.parentNode
                audio_padre.removeChild(viejo_audio)
                nuevo_audio = document.createElement("audio")
                nuevo_audio.setAttribute("id", "reproductor")
                nuevo_audio.setAttribute("controls", "controls")
                    // nuevo_audio.setAttribute("autoplay", "autoplay")
                source = document.createElement("source")
                source.setAttribute("src", path)
                source.setAttribute("type", "audio/mpeg")
                source.setAttribute("id", "reproductorSource")
                nuevo_audio.appendChild(source)
                audio_padre.appendChild(nuevo_audio)
            }

            function cargarReproductor() {
                var select = document.getElementById("selectTrack")
                var path = select.options[0].getAttribute("path")
                nuevo_audio = document.createElement("audio")
                nuevo_audio.setAttribute("id", "reproductor")
                nuevo_audio.setAttribute("controls", "controls")
                source = document.createElement("source")
                source.setAttribute("src", path)
                source.setAttribute("type", "audio/mpeg")
                source.setAttribute("id", "reproductorSource")
                nuevo_audio.appendChild(source)
                padre = document.getElementById("reproductorBox")
                padre.appendChild(nuevo_audio)
            }
        </script>
        <div id="reproductorBox"></div>
        <select id="selectTrack" multiple onchange="cambiarTrack(this.options[this.selectedIndex]);">
<option path="/musica/Playlist/[Electro Swing] Jungle Book - I Wanna Be Like You (Sim Gretina Remix).mp3">I Wanna be like you</option>
<option path="/musica/Playlist/Nightcore - Rockefeller Street.mp3">Nightcore - Rockefeller Street</option>
<option path="/musica/Playlist/Star Wars - 'Cantina Band' (Electro Swing Remix).mp3">Star Wars - Cantina Band</option>
<option path="/musica/Playlist/NOMA - Brain Power.mp3">NOMA - Brain Power</option>
<option path="/musica/Playlist/Zombie (Mix Cut).mp3">Zombie (Mix Cut)</option>
<option path="/musica/Playlist/Susumu Hirasawa - Parade.mp3">Susumu Hirasawa - Parade</option>
<option path="/musica/Playlist/BIGWAVE - Emotional Prism.mp3">BIGWAVE - Emotional Prism</option>
<option path="/musica/Playlist/Mr Saxobeat (Ryan Enzed Remix).mp3">Mr Saxobeat (Ryan Enzed Remix)</option>
<option path="/musica/Playlist/JoJo  - Golden Wind.mp3">JoJo  - Golden Wind</option>
<option path="/musica/Playlist/Aaron Smith - Dancin (KRONO Remix).mp3">Aaron Smith - Dancin</option>
</select>
        <script>
            cargarReproductor();
        </script>


    </div>

    <div class="gif">

        <embed src="imagenes/source.gif " height="240 " width="400 ">

    </div>


    <div class="java">

        <img src="imagenes/java_con_sombrero_verde_intento_liviano.png" alt="">

    </div>




</body>

<script type="text/javascript">
    var songs = ["/musica/reproductor2/Star.mp3", "/musica/reproductor2/Dr.mp3", "/musica/reproductor2/doro.mp3", "/musica/reproductor2/jojo.mp3", "/musica/reproductor2/para.mp3"];
    var poster = ["/imagenes/Star_Wars_The_Rise_of_Skywalker.png", "/imagenes/Dr.jpg", "/imagenes/doro.jpg", "/imagenes/jojo.jpg", "/imagenes/para.jpg"];

    var songTitle = document.getElementById("songTitle");
    var fillBar = document.getElementById("fill");

    var song = new Audio();
    var currentSong = 0; // it point to the current song

    window.onload = playSong; // it will call the function playSong when window is load

    function playSong() {

        song.src = songs[currentSong]; //set the source of 0th song 

        songTitle.textContent = songs[currentSong]; // set the title of song

        song.play(); // play the song
    }

    function playOrPauseSong() {

        if (song.paused) {
            song.play();
            $("#play img").attr("src", "/imagenes/Pause.png");
        } else {
            song.pause();
            $("#play img").attr("src", "/imagenes/Play.png");
        }
    }

    song.addEventListener('timeupdate', function() {

        var position = song.currentTime / song.duration;

        fillBar.style.width = position * 100 + '%';
    });


    function next() {

        currentSong++;
        if (currentSong > 4) {
            currentSong = 0;
        }
        playSong();
        $("#play img").attr("src", "/imagenes/Pause.png");
        $("#image img").attr("src", poster[currentSong]);
        $("#bg img").attr("src", poster[currentSong]);
    }

    function pre() {

        currentSong--;
        if (currentSong < 0) {
            currentSong = 4;
        }
        playSong();
        $("#play img").attr("src", "/imagenes/Pause.png");
        $("#image img").attr("src", poster[currentSong]);
        $("#bg img").attr("src", poster[currentSong]);
    }
</script>


</html>